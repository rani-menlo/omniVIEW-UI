(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{195:function(e,t,a){e.exports=a(449)},200:function(e,t,a){},449:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(9),c=a.n(r),i=(a(200),a(458)),o=a(461),l=a(457),m=a(24),u=a(178),d=a(22),p=a(136),E=a(179),g=a.n(E),_=a(180),h=(a(207),a(5)),f={REQUEST:"REQUEST",SUCCESS:"SUCCESS",FAILURE:"FAILURE"},b={LOGIN:"LOGIN",SET_LOGGED_STATUS:"SET_LOGGED_STATUS",SET_OTP_STATUS:"SET_OTP_STATUS",SEND_OTP:"SEND_OTP",VERIFY_OTP:"VERIFY_OTP",VERIFIED_OTP:"VERIFIED_OTP",RESET_OTP:"RESET_OTP",SET_OTP_ERROR:"SET_OTP_ERROR",RESET_OTP_ERROR:"RESET_OTP_ERROR",RESET_LOGIN_ERROR:"RESET_LOGIN_ERROR",LOGOUT:"LOGOUT"},v={FETCH_CUSTOMERS:"FETCH_CUSTOMERS",SET_SELECTED_CUSTOMER:"SET_SELECTED_CUSTOMER"},S={FETCH_APPLICATIONS:"FETCH_APPLICATIONS",SET_SELECTED_SUBMISSION:"SET_SELECTED_SUBMISSION"},N={FETCH_SEQUENCES:"FETCH_SEQUENCES",SET_SELECTED_SEQUENCE:"SET_SELECTED_SEQUENCE",FETCH_SEQUENCE_JSON:"FETCH_SEQUENCE_JSON",FETCHED_SEQUENCE_JSON:"FETCHED_SEQUENCE_JSON",FETCH_LIFE_CYCLE_JSON:"FETCH_LIFE_CYCLE_JSON",FETCHED_LIFE_CYCLE_JSON:"FETCHED_LIFE_CYCLE_JSON",VALIDATE_SEQUENCE:"VALIDATE_SEQUENCE"},y={loading:!1,error:""},C=a(2),O=a.n(C),T={user:null,role:null,login:{loggedIn:!1,error:""},otp:{error:"",otpReceived:!1,verified:!1,verifying:!1}},w={customers:[],customerCount:0,selectedCustomer:null},x={submissions:[],selectedSubmission:null,submissionCount:0},j=a(68),k={sequences:{},selectedSequence:null,sequenceJson:{},lifeCycleJson:{},validations:{}},I=Object(d.c)({Api:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.REQUEST:return Object(h.a)({},e,{loading:!0});case f.SUCCESS:return Object(h.a)({},e,{loading:!1});case f.FAILURE:return Object(h.a)({},e,{loading:!1,error:t.error});default:return e}},Login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.LOGIN:var a=t.data,n=a.error,s=a.message,r=a.data;return localStorage.setItem("omniview_user_token",O.a.get(r,"token","")),n?Object(h.a)({},e,{login:Object(h.a)({},e.login,{error:s})}):Object(h.a)({},e,{login:Object(h.a)({},e.login,{error:"",loggedIn:!0}),userId:r.userId,name:r.name,email:r.email});case b.SEND_OTP:return Object(h.a)({},e,{otp:Object(h.a)({},e.otp,{otpReceived:!0})});case b.VERIFY_OTP:return Object(h.a)({},e,{otp:Object(h.a)({},e.otp,{verifying:!0})});case b.VERIFIED_OTP:var c=t.data,i=c.error,o=c.message,l=c.data;return i?Object(h.a)({},e,{otp:Object(h.a)({},e.otp,{error:o,verifying:!1})}):(localStorage.setItem("omniview_user_token",l.token),Object(h.a)({},e,{user:l.userData,role:l.role,otp:Object(h.a)({},e.otp,{verifying:!1,verified:!0})}));case b.SET_LOGGED_STATUS:return Object(h.a)({},e,{login:Object(h.a)({},e.login,{loggedIn:t.status})});case b.RESET_LOGIN_ERROR:return Object(h.a)({},e,{login:Object(h.a)({},e.login,{error:""})});case b.SET_OTP_STATUS:return Object(h.a)({},e,{otp:Object(h.a)({},e.otp,{otpReceived:t.status})});case b.RESET_OTP:return Object(h.a)({},e,{otp:Object(h.a)({},e.otp,{verified:!1,verifying:!1})});case b.SET_OTP_ERROR:return Object(h.a)({},e,{otp:Object(h.a)({},e.otp,{error:t.error})});case b.RESET_OTP_ERROR:return Object(h.a)({},e,{otp:Object(h.a)({},e.otp,{error:""})});default:return e}},Customer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.FETCH_CUSTOMERS:return Object(h.a)({},e,{customers:t.data.data,customerCount:t.data.customerCount});case v.SET_SELECTED_CUSTOMER:return Object(h.a)({},e,{selectedCustomer:t.customer});default:return e}},Application:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.FETCH_APPLICATIONS:return Object(h.a)({},e,{submissions:t.data.data,submissionCount:t.data.submissionCount});case S.SET_SELECTED_SUBMISSION:return Object(h.a)({},e,{selectedSubmission:t.submission});default:return e}},Submission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N.FETCH_SEQUENCES:var a=Object(h.a)({},e.sequences);return t.data.error||(a[t.id]=t.data.data),Object(h.a)({},e,{sequences:a});case N.FETCH_SEQUENCE_JSON:return Object(h.a)({},e,{sequenceJson:Object(h.a)({},e.sequenceJson,Object(j.a)({},t.id,t.data))});case N.FETCH_LIFE_CYCLE_JSON:return Object(h.a)({},e,{lifeCycleJson:Object(h.a)({},e.lifeCycleJson,Object(j.a)({},t.id,t.data))});case N.SET_SELECTED_SEQUENCE:return Object(h.a)({},e,{selectedSequence:t.sequence});case N.VALIDATE_SEQUENCE:return Object(h.a)({},e,{validations:Object(h.a)({},e.validations,Object(j.a)({},t.id,t.data.data))});default:return e}}}),P=function(e,t){return t.type===b.LOGOUT&&(e=void 0),I(e,t)},A={key:"omniview",storage:g.a,blacklist:["Api","Customer","Application","Submission"]},R=Object(p.a)(A,P),L=Object(d.d)(R,Object(d.a)(_.a)),D={store:L,persistor:Object(p.b)(L)},F=(a(61),a(37)),M=a.n(F),U=a(11),q=a(12),B=a(14),z=a(13),V=a(15),H=(a(211),a(103)),J=a.n(H),G=a(459),Y=function(e){var t=e.heading,a=e.children;return s.a.createElement("div",{className:"global__container"},s.a.createElement("div",{className:"authlayout"},s.a.createElement("p",{className:"authlayout-login"},"Login"),s.a.createElement("div",{className:"authlayout__text"},t),a))},Q=function(e){e({type:f.REQUEST})},K=function(e){e({type:f.SUCCESS})},$=function(e,t){e({type:f.FAILURE,error:t})},W=a(18),X=a.n(W),Z=a(28),ee=a(181),te=a.n(ee),ae="http://52.170.255.82:3000",ne={LOGIN:"".concat("/api/v1/","login"),OTP:"".concat("/api/v1/","otpgeneration"),OTP_VERIFY:"".concat("/api/v1/","otpverification"),GET_CUSTOMERS:"".concat("/api/v1/","getCustomers"),GET_APPLICATIONS:"".concat("/api/v1/","submissions"),GET_SEQUENCES:"".concat("/api/v1/","sequences"),GET_JSON:"".concat("/api/v1/","getFile"),GET_RESOURCE_FILE:"".concat("/api/v1/","getResourceFile"),VALIDATE_SEQUENCE:"".concat("/api/v1/","sequenceValidation"),GET_FILE_SIZE:"".concat("/api/v1/","getFileSize"),GET_NEW_PATH:"".concat("/api/v1/","getNewPath")},se=23068672,re=10485760,ce=function(e){return be.post(ne.LOGIN,e)},ie=function(e){return be.post(ne.OTP,e)},oe=function(e){return be.post(ne.OTP_VERIFY,e)},le=function(e,t,a,n,s){return be.get(ne.GET_CUSTOMERS,{params:{page:e,limit:t,sortBy:a,order:n,search:s}})},me=function(e){return be.get(ne.GET_CUSTOMERS,{params:{search:e}})},ue=function(e,t,a,n,s,r){return be.post(ne.GET_APPLICATIONS,{customerId:e,page:t,limit:a,sortBy:n,order:s,search:r})},de=function(e,t){return be.post(ne.GET_APPLICATIONS,{customerId:e,search:t})},pe=function(e){return be.post(ne.GET_SEQUENCES,e)},Ee=function(e){return be.post(ne.GET_JSON,e)},ge=function(e){return be.post(ne.VALIDATE_SEQUENCE,e)},_e=(a(234),a(182)),he=a.n(_e),fe=te.a.create({baseURL:ae});fe.interceptors.request.use(function(e){try{var t=localStorage.getItem("omniview_user_token");return e.headers=Object(h.a)({},e.headers,{"x-auth-token":t}),e}catch(a){return Promise.reject(a)}}),fe.interceptors.response.use(null,function(e){401===e.response.status&&(he.a.error("Session Expired!"),D.store.dispatch(ve.logOut()))});var be=fe,ve={login:function(e){return function(){var t=Object(Z.a)(X.a.mark(function t(a){var n;return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Q(a),t.prev=1,t.next=4,ce(e);case 4:n=t.sent,a({type:b.LOGIN,data:n.data}),K(a),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),$(a);case 13:case"end":return t.stop()}},t,this,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},sendOtp:function(e){return function(){var t=Object(Z.a)(X.a.mark(function t(a){var n;return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Q(a),t.prev=1,t.next=4,ie(e);case 4:n=t.sent,a({type:b.SEND_OTP,data:n.data}),K(a),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),$(a);case 13:case"end":return t.stop()}},t,this,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},verifyOtp:function(e){return function(){var t=Object(Z.a)(X.a.mark(function t(a){var n;return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:b.VERIFY_OTP}),t.next=4,oe(e);case 4:n=t.sent,a({type:b.VERIFIED_OTP,data:n.data}),K(a),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),$(a);case 13:case"end":return t.stop()}},t,this,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},setLoggedInStatus:function(e){return{type:b.SET_LOGGED_STATUS,status:e}},setOtpStatus:function(e){return{type:b.SET_OTP_STATUS,status:e}},resetOtp:function(){return{type:b.RESET_OTP}},resetLoginError:function(){return{type:b.RESET_LOGIN_ERROR}},resetOtpError:function(){return{type:b.RESET_OTP_ERROR}},setOtpError:function(e){return{type:b.SET_OTP_ERROR,error:e}},logOut:function(){return{type:b.LOGOUT}}},Se={fetchCustomersByList:function(e,t,a,n,s){return function(){var r=Object(Z.a)(X.a.mark(function r(c){var i;return X.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return Q(c),r.prev=1,r.next=4,le(e,t,a,n,s);case 4:i=r.sent,c({type:v.FETCH_CUSTOMERS,data:i.data}),K(c),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),console.log(r.t0),$(c);case 13:case"end":return r.stop()}},r,this,[[1,9]])}));return function(e){return r.apply(this,arguments)}}()},fetchCustomers:function(e){return function(){var t=Object(Z.a)(X.a.mark(function t(a){var n;return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Q(a),t.prev=1,t.next=4,me(e);case 4:n=t.sent,a({type:v.FETCH_CUSTOMERS,data:n.data}),K(a),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),$(a);case 13:case"end":return t.stop()}},t,this,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()},setSelectedCustomer:function(e){return{type:v.SET_SELECTED_CUSTOMER,customer:e}}},Ne={fetchApplicationsByList:function(e,t,a,n,s,r){return function(){var c=Object(Z.a)(X.a.mark(function c(i,o){var l;return X.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return Q(i),c.prev=1,c.next=4,ue(e,t,a,n,s,r);case 4:l=c.sent,i({type:S.FETCH_APPLICATIONS,data:l.data,customerId:e}),K(i),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),$(i);case 12:case"end":return c.stop()}},c,this,[[1,9]])}));return function(e,t){return c.apply(this,arguments)}}()},fetchApplications:function(e,t){return function(){var a=Object(Z.a)(X.a.mark(function a(n,s){var r;return X.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return Q(n),a.prev=1,a.next=4,de(e,t);case 4:r=a.sent,n({type:S.FETCH_APPLICATIONS,data:r.data,customerId:e}),K(n),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),$(n);case 12:case"end":return a.stop()}},a,this,[[1,9]])}));return function(e,t){return a.apply(this,arguments)}}()},setSelectedSubmission:function(e){return{type:S.SET_SELECTED_SUBMISSION,submission:e}}},ye={fetchSequences:function(e){return function(){var t=Object(Z.a)(X.a.mark(function t(a,n){var s,r,c,i,o;return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Q(a),t.prev=1,s={data:[]},r=n().Customer.selectedCustomer,c=n().Submission.sequences,i="".concat(O.a.get(r,"id",""),"_").concat(e),!c[i]){t.next=10;break}s.data=c[i],t.next=14;break;case 10:return t.next=12,pe({id:e});case 12:o=t.sent,s=o.data;case 14:a({type:N.FETCH_SEQUENCES,data:s,id:i}),K(a),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1),$(a);case 21:case"end":return t.stop()}},t,this,[[1,18]])}));return function(e,a){return t.apply(this,arguments)}}()},fetchLifeCycleJson:function(e){return function(){var t=Object(Z.a)(X.a.mark(function t(a,n){var s,r,c,i,o;return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Q(a),t.prev=1,s="",r=n().Customer.selectedCustomer,c="".concat(O.a.get(r,"id",""),"_").concat(e.id),!(i=n().Submission.lifeCycleJson)[c]){t.next=10;break}s=i[c],t.next=14;break;case 10:return t.next=12,Ee({id:e.life_cycle_json_path});case 12:o=t.sent,s=o.data;case 14:a({type:N.FETCH_LIFE_CYCLE_JSON,data:s,id:c}),K(a),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(1),console.log(t.t0),$(a);case 22:case"end":return t.stop()}},t,this,[[1,18]])}));return function(e,a){return t.apply(this,arguments)}}()},fetchSequenceJson:function(e){return function(){var t=Object(Z.a)(X.a.mark(function t(a,n){var s,r,c,i,o,l;return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Q(a),t.prev=1,s="",r=n().Customer.selectedCustomer,c=n().Application.selectedSubmission,i="".concat(O.a.get(r,"id",""),"_").concat(O.a.get(c,"id",""),"_").concat(e.id),!(o=n().Submission.sequenceJson)[i]){t.next=11;break}s=o[i],t.next=15;break;case 11:return t.next=13,Ee({id:e.json_path});case 13:l=t.sent,s=l.data;case 15:a({type:N.FETCH_SEQUENCE_JSON,data:s,id:i}),K(a),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(1),$(a);case 22:case"end":return t.stop()}},t,this,[[1,19]])}));return function(e,a){return t.apply(this,arguments)}}()},setSelectedSequence:function(e){return{type:N.SET_SELECTED_SEQUENCE,sequence:e}},validateSequence:function(e){return function(){var t=Object(Z.a)(X.a.mark(function t(a,n){var s,r,c,i,o;return X.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Q(a),t.prev=1,s={data:{}},r=n().Customer.selectedCustomer,c=n().Application.selectedSubmission,i="".concat(O.a.get(r,"id",""),"_").concat(O.a.get(c,"id",""),"_").concat(e),t.next=8,ge({id:e});case 8:o=t.sent,s=o.data,a({type:N.VALIDATE_SEQUENCE,data:s,id:i}),K(a),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),$(a);case 17:case"end":return t.stop()}},t,this,[[1,14]])}));return function(e,a){return t.apply(this,arguments)}}()}},Ce=(a(156),a(98)),Oe=a.n(Ce),Te=function(e){return e.loading?s.a.createElement("div",{className:"loader"},s.a.createElement(Oe.a,{size:"large"})):null};Te.defaultProps={loading:!1};var we=Te,xe=function(e){var t=e.alignToBottom;return s.a.createElement("div",{className:"footer",style:t&&{position:"absolute",bottom:0,width:"100%"}},"Copyright \xa9 2003-2019 Omnicia Inc. \xa0\xa0\xa0\xa0 Terms of Use \xa0\xa0\xa0\xa0 Privacy Policy")},je=J.a.Group,ke=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(B.a)(this,Object(z.a)(t).call(this,e))).sendCode=function(){var e={isEmail:"email"===a.state.selected};a.props.actions.sendOtp(e)},a.goBack=function(){a.props.actions.setLoggedInStatus(!1),a.props.history.push("/")},a.onSelect=function(e){a.setState({selected:e.target.value})},a.state={selected:"email"},a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading;return e.otpReceived?s.a.createElement(G.a,{to:"/verify/".concat(this.state.selected)}):s.a.createElement(s.a.Fragment,null,s.a.createElement(we,{loading:t}),s.a.createElement(Y,{heading:"Before we can sign you in, we need to verify you are the account\r owner. Choose to send an authentication code to your email or to your\r phone via SMS."},s.a.createElement(je,{onChange:this.onSelect,value:this.state.selected},s.a.createElement(J.a,{value:"email",className:"auth1-radio"},"Email Address"),s.a.createElement(J.a,{value:"phone",className:"auth1-radio"},"SMS")),s.a.createElement("div",{className:"common_authbuttons"},s.a.createElement(M.a,{className:"common_authbuttons-btn common_authbuttons-btn-cancel",onClick:this.goBack},"Cancel"),s.a.createElement(M.a,{type:"primary",className:"common_authbuttons-btn common_authbuttons-btn-send",onClick:this.sendCode},"Send Code"))),s.a.createElement(xe,{alignToBottom:!0}))}}]),t}(n.Component);var Ie=Object(m.b)(function(e){return{loading:e.Api.loading,otpReceived:e.Login.otp.otpReceived}},function(e){return{actions:Object(d.b)(Object(h.a)({},ve),e)}})(ke),Pe=a(32),Ae=(a(38),a(10)),Re=a.n(Ae),Le=(a(66),a(19)),De=a.n(Le),Fe=(a(318),a(104)),Me=a.n(Fe),Ue=a(33),qe=a(44),Be=a(185),ze=a.n(Be),Ve=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(B.a)(this,Object(z.a)(t).call(this,e))).getStfFoldersIfExist=function(e){var t=[];return O.a.map(e,function(e,a){var n=O.a.get(e,"version","");if("object"===typeof e&&n.includes("STF")){var s=a.substring(0,a.lastIndexOf("["))||a;t.push(Object(h.a)({},O.a.cloneDeep(e),{_stfKey:s,_omitKey:a}))}}),t},a.getConsolidatedStfFolders=function(e){var t=a.props.view,n=O.a.groupBy(e,"_stfKey"),s={};return O.a.map(n,function(e,n){var r={};O.a.map(e,function(e){r.title=e.title,r._stfKey=e._stfKey,O.a.map(e,function(e,n){if("object"===typeof e)if(r[n]){var s=[].concat(Object(qe.a)(r[n].leaf),Object(qe.a)(e.leaf));"current"===t&&(s=a.setLatestFiles(s)),r[n].leaf=s}else r[n]=e})}),s[n]=r}),s},a.setLatestFiles=function(e){var t=Object(qe.a)(e);return O.a.map(e,function(a){if(a){var n=a.ID;O.a.map(e,function(e){if(e&&e.ID!==n){var a=e["modified-file"];(a=a&&a.substring(a.lastIndexOf("#")+1))===n&&O.a.remove(t,{ID:n})}})}}),t},a.setCurrentView=function(e,t){var a=O.a.groupBy(t,"title")[e.title],n=O.a.get(a,"[".concat(a.length-1,"].operation"),"");e.showInCurrentView="delete"!==n&&e.operation===n},a.toggle=function(){a.setState({expand:!a.state.expand})},a.getCaretIcon=function(){return"leaf"===a.props.label?null:a.state.expand?s.a.createElement(Re.a,{type:"caret-down",onClick:a.toggle,className:"global__caret"}):s.a.createElement(Re.a,{type:"caret-right",onClick:a.toggle,className:"global__caret"})},a.getLeafIcon=function(){var e=s.a.createElement(Re.a,{type:"folder",theme:"filled",className:"global__file-folder"}),t=a.state.properties,n={width:"18px",height:"21px"},r=O.a.get(t,"version",""),c=O.a.get(t,"_stfKey","");return"US Regional"===t.title&&(e=s.a.createElement("img",{src:"/images/folder-us.svg",className:"global__file-folder",style:n})),(r.includes("STF")||c)&&(e=s.a.createElement("img",{src:"/images/file-stf.svg",className:"global__file-folder",style:n})),"leaf"===a.props.label&&(e="new"===t.operation?s.a.createElement("img",{src:"/images/file-new.svg",className:"global__file-folder",style:n}):"append"===t.operation?s.a.createElement("img",{src:"/images/file-append.svg",className:"global__file-folder",style:n}):"replace"===t.operation?s.a.createElement("img",{src:"/images/file-replace.svg",className:"global__file-folder",style:n}):s.a.createElement("img",{src:"/images/file-delete.svg",className:"global__file-folder",style:n})),e},a.selectNode=function(){var e=a.props,t=e.onNodeSelected,n=e.leafParent;t&&t(a.state.nodeId,a.state.properties,n)},a.deSelectNode=function(){a.setState({selected:!1})},a.getLabel=function(){var e=a.props,t=e.label,n=e.mode,s=a.state.properties,r=t;return"leaf"!==t&&"standard"!==n||(r=O.a.get(s,"title",t)),r},a.openFile=function(){var e=a.state.properties,t=e["xlink:href"],n=t.substring(t.lastIndexOf(".")+1),s=null;n.includes("pdf")&&e.fileID?s=window.open("".concat("http://52.170.255.82","/viewer/pdf/").concat(e.fileID),"_blank"):e.fileID&&(s=window.open("".concat("http://52.170.255.82","/viewer/").concat(n,"/").concat(e.fileID),"_blank")),s&&s.addEventListener("load",function(){s.document.title=O.a.get(e,"title","")})},a.state={nodeId:ze()(),properties:{},nodes:[],expand:a.props.defaultExpand||a.props.expand,prevProps:a.props},a.nodeRefs=[],a.nodeElementRef=s.a.createRef(),a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.content,n=t.view,r=t.mode,c={},i=[];a=O.a.get(a,"ectd:ectd",a);var o=this.getStfFoldersIfExist(a);if(o.length)if("standard"===r){var l=O.a.map(o,"_omitKey"),m=this.getConsolidatedStfFolders(o);l.length&&(a=O.a.omit(a,l)),O.a.map(m,function(e,t){a[t]=e})}else if("current"===n){var u=O.a.map(o,"_omitKey");o=O.a.map(o,function(e){var t=[],a=[];return O.a.map(e,function(e,n){"object"===typeof e&&(t.push(n),e.leaf&&(a=[].concat(Object(qe.a)(a),Object(qe.a)(e.leaf))))}),(e=O.a.omit(e,t)).leaf=a,e});var d=O.a.groupBy(o,"title");O.a.map(d,function(t){var a=[];O.a.map(t,function(e){a=[].concat(Object(qe.a)(a),Object(qe.a)(e.leaf))}),a=e.setLatestFiles(a);var n=O.a.keys(O.a.groupBy(a,"sequence")),s=O.a.keys(O.a.groupBy(t,"sequence")),r=O.a.difference(s,n);O.a.map(r,function(e){O.a.remove(o,{sequence:e})})}),a=O.a.omit(a,u),O.a.map(o,function(e){a[e._omitKey]=e})}if("lifeCycle"===n&&"qc"===r){var p=O.a.get(a,"version","");if(p&&p.includes("STF")){var E=[],g=[];O.a.map(a,function(e,t){"object"===typeof e&&(E.push(t),e.leaf&&(g=[].concat(Object(qe.a)(g),Object(qe.a)(e.leaf))))}),(a=O.a.omit(a,E)).leaf=g}}O.a.map(a,function(t,s){if("string"===typeof t||"boolean"===typeof t)c[s]=t;else{var r={label:s,value:t};if(O.a.isArray(t)&&"leaf"===s)O.a.map(t,function(a){if(e.setCurrentView(a,t),"current"!==n||a.showInCurrentView){var s={label:"leaf",value:a,leafParent:t};i.push(s)}});else if(t.version&&t.version.includes("STF")){var o=O.a.groupBy(a,function(e){return e.title});r.leafParent=o[t.title],i.push(r)}else"leaf"===s&&(r.leafParent=t),i.push(r)}}),this.setState({properties:c,nodes:i}),this.nodeRefs=O.a.map(i,function(e){return s.a.createRef()})}},{key:"render",value:function(){var e=this,a=this.state,n=a.nodes,r=a.expand,c=this.props,i=c.defaultPaddingLeft,o=c.selectedNodeId,l=c.onNodeSelected,m=c.mode,u=c.view,d=this.props.paddingLeft+i;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{ref:this.nodeElementRef,className:"node ".concat(o===this.state.nodeId&&"global__node-selected"),style:{paddingLeft:d},onClick:this.selectNode,onDoubleClick:this.openFile,title:this.getLabel()},this.getCaretIcon(),this.getLeafIcon(),s.a.createElement("span",{className:"global__node-text",style:{overflow:"hidden"}},this.getLabel())),r&&O.a.map(n,function(a,n){return s.a.createElement(t,{ref:e.nodeRefs[n],expand:e.props.expand,paddingLeft:d,key:a.label+n+m,label:a.label,content:a.value,selectedNodeId:o,onNodeSelected:l,mode:m,view:u,leafParent:a.leafParent})}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return e.expand!==t.prevProps.expand&&(a.expand=e.expand),O.a.size(a)?Object(h.a)({},a,{prevProps:e}):null}}]),t}(n.Component);Ve.defaultProps={paddingLeft:0,defaultPaddingLeft:31,expand:!1,defaultExpand:!1};var He=Ve,Je={"application-type":[{code:"fdaat1",display:"New Drug Application (NDA)",status:"active"},{code:"fdaat2",display:"Abbreviated New Drug Application (ANDA)",status:"active"},{code:"fdaat3",display:"Biologic License Application (BLA)",status:"active"},{code:"fdaat4",display:"Investigational New Drug (IND)",status:"active"},{code:"fdaat5",display:"Drug Master File (DMF)",status:"active"},{code:"fdaat6",display:"Emergency Use Authorization (EUA)",status:"active"},{code:"fdaat7",display:"Investigational Device Exemption (IDE)",status:"active"},{code:"fdaat9",display:"Premarket Approval Application (PMA)",status:"active"},{code:"fdaat10",display:"Premarket Notification 510k (510K)",status:"active"},{code:"fdaat8",display:"Safety Issue (FDA Use Only)",status:"active"}],"submission-type":[{code:"fdast1",display:"Original Application",status:"active"},{code:"fdast2",display:"Efficacy Supplement",status:"active"},{code:"fdast3",display:"Chemistry Manufacturing Controls Supplement",status:"active"},{code:"fdast4",display:"Labeling Supplement",status:"active"},{code:"fdast5",display:"Annual Report",status:"active"},{code:"fdast6",display:"Product Correspondence",status:"active"},{code:"fdast7",display:"Postmarketing Requirements or Commitments",status:"active"},{code:"fdast8",display:"Promotional Labeling Advertising",status:"active"},{code:"fdast9",display:"IND Safety Reports",status:"active"},{code:"fdast10",display:"Periodic Safety Reports",status:"active"}],"telephone-number-type":[{code:"fdatnt1",display:"Business Telephone Number",status:"active"},{code:"fdatnt2",display:"Fax Telephone Number",status:"active"},{code:"fdatnt3",display:"Mobile Telephone Number",status:"active"}],"applicant-contact-type":[{code:"fdaact1",display:"Regulatory Contact",status:"active"},{code:"fdaact2",display:"Technical Contact",status:"active"},{code:"fdaact3",display:"United States Agent",status:"active"},{code:"fdaact4",display:"Promotional Labeling and Advertising Regulatory Contact",status:"active"}]};function Ge(){var e=Object(Pe.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Ge=function(){return e},e}var Ye=Ue.a.div(Ge());function Qe(){var e=Object(Pe.a)(["\n  padding: 4px 0px;\n  padding-left: 30px;\n  justify-content: normal;\n  align-items: normal;\n"]);return Qe=function(){return e},e}var Ke=function(e){function t(){var e,a;Object(U.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(B.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r)))).getFileName=function(e){return e.substring(e.lastIndexOf("/")+1,e.length)},a.openFile=function(){var e=a.props.properties,t=e["xlink:href"],n=t.substring(t.lastIndexOf(".")+1),s=null;n.includes("pdf")&&e.fileID?s=window.open("".concat("http://52.170.255.82","/viewer/pdf/").concat(e.fileID),"_blank"):e.fileID&&(s=window.open("".concat("http://52.170.255.82","/viewer/").concat(n,"/").concat(e.fileID),"_blank")),s&&s.addEventListener("load",function(){s.document.title=O.a.get(e,"title","")})},a.getStfProperties=function(){var e=a.props.properties;return s.a.createElement(s.a.Fragment,null,s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Study Title:"),s.a.createElement("div",{className:"value"},e.title||"")),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Study ID:"),s.a.createElement("div",{className:"value"},e.ID||"")),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Categories:")))},a.isSTF=function(){var e=a.props.properties;return O.a.get(e,"version","").includes("STF")},a.getLeafProperties=function(e){return e.fileID?s.a.createElement(s.a.Fragment,null,s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Title:"),s.a.createElement("div",{className:"value"},e.title||"")),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"File Name:"),s.a.createElement("div",{className:"value link"},s.a.createElement("a",{onClick:a.openFile},a.getFileName(e["xlink:href"])))),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"eCTD Operation:"),s.a.createElement("div",{className:"value"},e.operation||"")),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Leaf ID:"),s.a.createElement("div",{className:"value"},e.ID||"")),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"File Link(Href):"),s.a.createElement("div",{className:"value link"},s.a.createElement("a",{onClick:a.openFile},e["xlink:href"]||""))),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Checksum:"),s.a.createElement("div",{className:"value"},e.checksum||"")),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Checksum type:"),s.a.createElement("div",{className:"value"},e["checksum-type"]||"")),e.version&&s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"version:"),s.a.createElement("div",{className:"value"},e.version||"")),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Xlink Type:"),s.a.createElement("div",{className:"value"},e["xlink:type"])),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Containing Folder:"),s.a.createElement("div",{className:"value"},e.folder||"")),e.manufacturer&&s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Manufacturer:"),s.a.createElement("div",{className:"value"},e.manufacturer||"")),e.substance&&s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Substance:"),s.a.createElement("div",{className:"value"},e.substance||""))):null},a.isRootSubmission=function(){var e=a.props.properties;return O.a.get(e,"[dtd-version]","")},a.getRootProperties=function(){var e=a.props,t=(e.properties,e.m1Json),n=O.a.get(t,"[admin][application-set][application][application-information][application-number][$t]",""),r=O.a.get(t,"[admin][applicant-info][company-name]","");return s.a.createElement(s.a.Fragment,null,s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Name:"),s.a.createElement("div",{className:"value"},n||"")),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Company:"),s.a.createElement("div",{className:"value"},r||"")))},a.isFolder=function(){var e=a.props.properties;return!e["dtd-version"]&&"m1-regional"!==e.name&&!e.fileID},a.getFolderProperties=function(){var e=a.props.properties;return s.a.createElement(s.a.Fragment,null,s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Title:"),s.a.createElement("div",{className:"value"},e.title||"")),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Xml Tag:"),s.a.createElement("div",{className:"value"},e.name||"")))},a.isM1=function(){return"m1-regional"===a.props.properties.name},a.getContacts=function(e){var t=O.a.get(e,"[applicant-contacts][applicant-contact]");return O.a.map(t,function(e){var t=O.a.get(e,"[applicant-contact-name][$t]",""),a=O.a.get(e,"[applicant-contact-name][applicant-contact-type]","");a=O.a.find(O.a.get(Je,"[applicant-contact-type]",""),function(e){return e.code===a}).display,t="".concat(t,"(").concat(a,"), "),t="".concat(t).concat(O.a.get(e,"[telephones][telephone][$t]",""));var n=O.a.get(e,"[telephones][telephone][telephone-number-type]","");return n=O.a.find(O.a.get(Je,"[telephone-number-type]",""),function(e){return e.code===n}).display,t="".concat(t,"(").concat(n,"), "),t="".concat(t).concat(O.a.get(e,"[emails][email]",""))})},a.getM1Properties=function(){var e=a.props,t=e.m1Json,n=e.properties,r=e.sequence,c=t["m1-regional-properties"],i=O.a.get(t,"[admin][applicant-info]"),o=O.a.get(t,"[admin][application-set][application]"),l=O.a.get(o,"[application-information][application-number]"),m=O.a.find(O.a.get(Je,"[application-type]",""),function(e){return e.code===l["application-type"]}).display,u=O.a.get(o,"[submission-information]"),d=O.a.find(O.a.get(Je,"[submission-type]",""),function(e){return e.code===O.a.get(u,"[submission-id][submission-type]","")}).display;return s.a.createElement(s.a.Fragment,null,s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Title:"),s.a.createElement("div",{className:"value"},n.title||"")),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Index Type:"),s.a.createElement("div",{className:"value"},O.a.get(c,"title",""))),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Submission Description:"),s.a.createElement("div",{className:"value"},O.a.get(i,"[submission-description]",""))),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Company Name:"),s.a.createElement("div",{className:"value"},O.a.get(i,"[company-name]",""))),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Company ID:"),s.a.createElement("div",{className:"value"},O.a.get(i,"id",""))),s.a.createElement("div",{className:"global__hr-line",style:{background:"#bfc4c7"}}),O.a.map(a.getContacts(i),function(e){return s.a.createElement($e,{key:e},s.a.createElement("div",{className:"label"},"Applicant Contact:"),s.a.createElement("div",{className:"value"},e))}),s.a.createElement("div",{className:"global__hr-line",style:{background:"#bfc4c7"}}),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Application Number:"),s.a.createElement("div",{className:"value"},O.a.get(l,"[$t]",""))),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Application Type:"),s.a.createElement("div",{className:"value"},m)),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Cross Reference Application Number(s): "),s.a.createElement("div",{className:"value"},O.a.get(l,"cr",""))),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Submission ID: "),s.a.createElement("div",{className:"value"},O.a.get(u,"[submission-id][$t]",""))),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Submission Type: "),s.a.createElement("div",{className:"value"},d)),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Supplement Effective Date Type: "),s.a.createElement("div",{className:"value"},O.a.get(u,"date",""))),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Date Type: "),s.a.createElement("div",{className:"value"},O.a.get(u,"date",""))),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Sequence Number: "),s.a.createElement("div",{className:"value"},O.a.get(u,"[sequence-number][$t]",""))),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Submission Sub-Type: "),s.a.createElement("div",{className:"value"},O.a.get(r,"[submission_sub_type]",""))),s.a.createElement($e,null,s.a.createElement("div",{className:"label"},"Form: "),s.a.createElement("div",{className:"value"},O.a.get(u,"",""))))},a.getLifeCycleId=function(e){var t=a.props.submission;return"".concat(O.a.get(t,"name",""),"\\").concat(e.sequence," : ").concat(e.ID)},a.getModifiedFile=function(e){var t=a.props.submission,n=e["modified-file"]||"",s=O.a.split(n,"/"),r=O.a.get(s,"[1]",""),c=O.a.get(s,"[2]","");return c=O.a.split(c,"#"),c=O.a.get(c,"[1]",""),n?"".concat(O.a.get(t,"name",""),"\\").concat(r," : ").concat(c):""},a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.properties,n=t.m1Json;return a&&s.a.createElement("div",{className:"properties"},s.a.createElement("div",{className:"properties__table"},this.isRootSubmission()&&this.getRootProperties(),this.isFolder()&&this.getFolderProperties(),this.isSTF()&&this.getStfProperties(),this.isM1()&&this.getM1Properties(),(this.isSTF()||this.isM1())&&s.a.createElement("div",{className:"section-title"},"Leaf Properties"),this.getLeafProperties(this.isM1()?n["m1-regional-properties"]:a)),O.a.get(a,"lifeCycles.length","")&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"properties-life-cycle-title"},this.isSTF()?"STF Life Cycle":"Document Life Cycle"),s.a.createElement("div",{className:"properties__life-cycle-table"},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Leaf ID"),s.a.createElement("th",null,"Operation"),s.a.createElement("th",null,"Modified File"),s.a.createElement("th",null,"File Name"),s.a.createElement("th",null,"Title"))),s.a.createElement("tbody",null,O.a.map(a.lifeCycles,function(t,n){return s.a.createElement("tr",{key:n},s.a.createElement("td",{className:"properties__life-cycle-table-link"},e.getLifeCycleId(t)),s.a.createElement("td",null,t.operation),s.a.createElement("td",{className:"properties__life-cycle-table-link"},e.getModifiedFile(t)),s.a.createElement("td",{className:"properties__life-cycle-table-link link"},s.a.createElement("a",{onClick:e.openFile},e.getFileName(t["xlink:href"]))),s.a.createElement("td",null,a.title))}))))))}}]),t}(n.Component),$e=Object(Ue.a)(Ye)(Qe()),We=Ke,Xe=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(B.a)(this,Object(z.a)(t).call(this,e))).toggle=function(){a.setState({expand:!a.state.expand})},a.getCaretIcon=function(){if(0===O.a.get(a.props,"sequence.childs.length",0))return null;var e={verticalAlign:0};return a.state.expand?s.a.createElement(Re.a,{type:"caret-down",onClick:a.toggle,className:"global__caret",style:e}):s.a.createElement(Re.a,{type:"caret-right",onClick:a.toggle,style:e,className:"global__caret"})},a.getLabel=function(){var e=a.props,t=e.sequence,n=e.submissionLabel;return"".concat(n,"\\").concat(t.name," (").concat(t.submission_type,"-").concat(t.submission_sub_type,")")},a.state={expand:!0},a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this.props,a=e.sequence,n=e.paddingLeft,r=e.onSelected,c=e.selected,i=e.submissionLabel;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"node global__cursor-pointer ".concat(c===a&&"global__node-selected"),style:{paddingLeft:n},onClick:r(a),title:this.getLabel()},this.getCaretIcon(),s.a.createElement(Re.a,{type:"folder",theme:"filled",className:"global__file-folder"}),s.a.createElement("span",{className:"global__node-text global__cursor-pointer"},this.getLabel())),this.state.expand&&O.a.map(a.childs,function(e){return s.a.createElement(t,{key:e.id,sequence:e,paddingLeft:n+35,onSelected:r,selected:c,submissionLabel:i})}))}}]),t}(n.Component);Xe.defaultProps={paddingLeft:0};var Ze=Xe,et=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(B.a)(this,Object(z.a)(t).call(this,e))).sortBy=function(e){return function(){var t=a.props.onSortByChanged;a.setState({order:"desc"===a.state.order?"asc":"desc"},function(){return t&&t(e)})}},a.onSelected=function(e){return function(){var t=a.props.onSelectedSequence;t&&t(e)}},a.getTree=function(){var e=a.props,t=e.sequences,n=e.selected,r=e.submissionLabel;return O.a.map(t,function(e){return s.a.createElement(Ze,{key:e.id,sequence:e,onSelected:a.onSelected,selected:n,submissionLabel:r})})},a.getListSequence=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.push(e),O.a.get(e,"childs.length",0)&&O.a.map(e.childs,function(e){a.getListSequence(e,t)}),t},a.getList=function(){var e=a.props.sequences,t=[];O.a.map(e,function(e){t=t.concat(a.getListSequence(e))});var n=O.a.sortBy(t,function(e){return Number(e.name)});return"desc"===a.state.order?n:n.reverse()},a.state={order:"desc"},a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.selected,n=t.sortBy,r=t.submissionLabel;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"sortheader"},s.a.createElement("div",{className:"sortheader__text"},"Sort by:"),s.a.createElement("div",{className:"sortheader__section ".concat("submission"===n&&"selected-sortby"),onClick:this.sortBy("submission")},s.a.createElement("img",{src:"/images/filter-blue.svg"}),s.a.createElement("span",{className:"label"},"Submission Type")),s.a.createElement("div",{className:"sortheader__section ".concat("sequence"===n&&"selected-sortby"),onClick:this.sortBy("sequence")},s.a.createElement("img",{src:"/images/sort.svg"}),s.a.createElement("span",{className:"label"},"Sequence"))),s.a.createElement("div",{className:"sequenceslist"},"submission"===n?this.getTree():O.a.map(this.getList(),function(t){return s.a.createElement("div",{key:t.id,onClick:e.onSelected(t),className:"sequenceslist__sequence global__cursor-pointer ".concat(a===t&&"global__node-selected")},s.a.createElement(Re.a,{type:"folder",theme:"filled",className:"global__file-folder"}),s.a.createElement("span",{className:"global__node-text global__cursor-pointer"},"".concat(r,"\\").concat(t.name)))})))}}]),t}(n.Component);et.defaultProps={sequences:[],sortBy:"submission"};var tt=et,at=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(B.a)(this,Object(z.a)(t).call(this,e))).setVisibility=function(){var e=a.props.expand;a.setState({hide:!e})},a.state={hide:!1},a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.expand!==e.expand&&this.setVisibility()}},{key:"render",value:function(){var e=this.props,t=e.containerStyle,a=e.children,n=e.expand,r=e.direction;return s.a.createElement(s.a.Fragment,null,!this.state.hide&&s.a.createElement("div",{style:t,className:"slider ".concat(r,"__").concat(n?"slide-in":"slide-out")},a))}}]),t}(n.Component);at.defaultProps={direction:"ltr"};var nt=at,st=a(69),rt=Object(st.a)([function(e){return e.Submission.validations},function(e){return e.Customer.selectedCustomer},function(e){return e.Application.selectedSubmission},function(e,t){return t.sequence}],function(e,t,a,n){var s="".concat(O.a.get(t,"id",""),"_").concat(O.a.get(a,"id",""),"_").concat(O.a.get(n,"id",""));return O.a.get(e,"".concat(s),[])}),ct=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(B.a)(this,Object(z.a)(t).call(this,e))).getAlertIcon=function(e){return"Low"===e?"/images/alert-low.svg":"Medium"===e?"/images/alert-medium.svg":"/images/alert-high.svg"},a.sortColumn=function(e){return function(){var t=a.state.validationResults,n="asc"===a.state.sort?"desc":"asc",s=O.a.orderBy(t,e,n);a.setState({sort:n,validationResults:s})}},a.onItemSelected=function(e){return function(){var t=a.props.onItemSelected;a.setState({selected:e.node}),t&&t(e)}},a.state={sort:"asc",validationResults:[],selected:""},a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.sequence;e&&this.props.actions.validateSequence(e.id)}},{key:"render",value:function(){var e=this,t=this.props,a=t.onClose,n=t.loading,r=t.label,c=t.sequence,i=this.state,o=i.validationResults,l=i.sort,m=i.selected;return s.a.createElement(s.a.Fragment,null,s.a.createElement(we,{loading:n}),s.a.createElement("div",{className:"validationResults"},s.a.createElement("div",{className:"validationResults__header"},s.a.createElement("div",{className:"validationResults__header__title global__center-horiz-vert"},s.a.createElement("img",{src:"/images/folder-validate.svg",style:{marginRight:"5px"}}),s.a.createElement("span",{className:"validationResults__header__title-text"}," ","eCTD Sequence Validation [",r,"\\",O.a.get(c,"name",""),"]")),s.a.createElement(Re.a,{type:"close",className:"validationResults__header-close",onClick:a})),s.a.createElement("div",{className:"validationResults__table"},s.a.createElement("div",{className:"validationResults__table__body"},s.a.createElement("table",null,s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"validationResults__table-col col-node global__cursor-pointer",onClick:this.sortColumn("node")},"Node"," ",s.a.createElement("img",{className:"col-node-icon",src:"/images/sort-result.svg"})),s.a.createElement("th",{className:"validationResults__table-col col-error global__cursor-pointer",onClick:this.sortColumn("error_no")},"Error"," ",s.a.createElement("img",{className:"col-node-icon",src:"/images/sort-result.svg"})),s.a.createElement("th",{className:"validationResults__table-col col-severity global__cursor-pointer",onClick:this.sortColumn("severity")},"Severity"," ",s.a.createElement("img",{className:"col-node-icon",src:"/images/sort-result.svg"})),s.a.createElement("th",{className:"validationResults__table-col col-description global__cursor-pointer",onClick:this.sortColumn("description")},"Description"," ",s.a.createElement("img",{className:"col-node-icon",src:"/images/sort-result.svg"})))),s.a.createElement("tbody",{key:l},O.a.map(o,function(t){return s.a.createElement("tr",{key:t.node,onClick:e.onItemSelected(t),className:"global__cursor-pointer ".concat(m===t.node&&"global__node-selected")},s.a.createElement("td",{className:"col-node"},s.a.createElement("div",{style:{display:"flex",alignItems:"center"}},s.a.createElement("span",null,"File Checks"===t.group||"PDF"===t.group?s.a.createElement("img",{src:"/images/file-new.svg",className:"global__file-folder",style:{width:"18px",height:"22px"}}):s.a.createElement(Re.a,{type:"folder",theme:"filled",className:"global__file-folder"})),s.a.createElement("span",null,t.node))),s.a.createElement("td",{className:"col-error"},t.error_no),s.a.createElement("td",{className:"col-severity"},s.a.createElement("img",{src:e.getAlertIcon(t.severity),style:{marginRight:"8px"}}),s.a.createElement("span",null,t.severity)),s.a.createElement("td",{className:"col-description"},t.description))}))))),s.a.createElement("div",{className:"validationResults__footer"},s.a.createElement("div",{className:"validationResults__footer__viewreport global__disabled-box"},"View Report"),s.a.createElement(M.a,{type:"primary",onClick:a,style:{color:"white"}},"Close"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return t.validationResults.length||(a.validationResults=e.validations),O.a.size(a)?Object(h.a)({},a):null}}]),t}(n.Component);var it=Object(m.b)(function(e,t){return{loading:e.Api.loading,validations:rt(e,t)}},function(e){return{actions:Object(d.b)(Object(h.a)({},ye),e)}})(ct),ot=function(e){return e.Customer.selectedCustomer},lt=function(e){return e.Application.selectedSubmission},mt=Object(st.a)([function(e){return e.Submission.sequenceJson},ot,lt,function(e){return e.Submission.selectedSequence}],function(e,t,a,n){var s="".concat(O.a.get(t,"id",""),"_").concat(O.a.get(a,"id",""),"_").concat(O.a.get(n,"id",""));return O.a.get(e,"".concat(s))}),ut=Object(st.a)([function(e){return e.Submission.lifeCycleJson},ot,lt],function(e,t,a){var n="".concat(O.a.get(t,"id",""),"_").concat(O.a.get(a,"id",""));return O.a.get(e,"".concat(n))}),dt=Object(st.a)([function(e){return e.Submission.sequences},ot,lt],function(e,t,a){var n="".concat(O.a.get(t,"id",""),"_").concat(O.a.get(a,"id",""));return O.a.get(e,"".concat(n))}),pt=(a(78),a(43)),Et=a.n(pt),gt=(a(124),a(30)),_t=a.n(gt),ht=a(460),ft=function(e){function t(){var e,a;Object(U.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(B.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r)))).onMenuItemClick=function(e){"signOut"===e.key&&(a.props.dispatch(ve.logOut()),a.props.history.push("/"))},a.getMenu=function(){return s.a.createElement(De.a,{onClick:a.onMenuItemClick},s.a.createElement(De.a.Item,{key:"edit",disabled:!0},s.a.createElement("span",{className:"profilemenu-dropdown-item"},"Edit Profile")),s.a.createElement(De.a.Item,{key:"signOut"},s.a.createElement("span",{className:"profilemenu-dropdown-item"},"Sign Out")),s.a.createElement(De.a.Item,{key:"manage",disabled:!0},s.a.createElement("span",{className:"profilemenu-dropdown-item"},"Manage Users")))},a.help=function(){window.open("".concat(window.location.origin,"/OmniVIEW How-To Guide.pdf"),"_blank")},a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this.props.user;return s.a.createElement("div",{className:"profile"},s.a.createElement(Et.a,{overlay:this.getMenu(),trigger:["click"]},s.a.createElement("div",{className:"profile__menu"},s.a.createElement(_t.a,{size:"small",icon:"user"}),s.a.createElement("span",{className:"profile__menu-username"},O.a.get(e,"first_name","")),s.a.createElement(Re.a,{type:"down"}))))}}]),t}(n.Component);var bt=Object(ht.a)(Object(m.b)(function(e){return{user:e.Login.user}},function(e){return{dispatch:e}})(ft)),vt=a(188),St=a.n(vt),Nt=a(189),yt=function(e){function t(e){return Object(U.a)(this,t),Object(B.a)(this,Object(z.a)(t).call(this,e))}return Object(V.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this.props,t=e.draggableAreaClass;e.width,e.height;return e.visible&&s.a.createElement(St.a,{defaultClassName:"draggable-modal",handle:t,bounds:"parent"},s.a.createElement(Nt.a,{defaultSize:{width:"70%",height:"70%"},minWidth:"34%",minHeight:"58%",bounds:"parent"},this.props.children))}}]),t}(n.Component);function Ct(){var e=Object(Pe.a)(["\n  display: flex;\n  cursor: pointer;\n"]);return Ct=function(){return e},e}var Ot=Me.a.TabPane,Tt=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(B.a)(this,Object(z.a)(t).call(this,e))).toggle=function(e){a.clearTreeNodesMap(),a.setState({treeExpand:!a.state.treeExpand},function(){"function"===typeof e&&e()})},a.onNodeSelected=function(e,t,n){if(n){var s=[];if(O.a.isArray(n)){var r=t["xlink:href"],c=r.substring(r.lastIndexOf("/")+1,r.length);s=O.a.filter(n,function(e){return e["xlink:href"].substring(e["xlink:href"].lastIndexOf("/")+1,e["xlink:href"].length)===c});var i=O.a.filter(n,function(e){return"delete"===e.operation});O.a.forEach(i,function(e){var t=O.a.get(e,"[modified-file]",""),a=t.substring(t.lastIndexOf("#")+1,t.length);if(O.a.find(s,function(e){return e.ID===a}))return s.push(e),!1})}else s.push(n);t.lifeCycles=s}a.setState({selectedNodeId:e,nodeProperties:t})},a.onSelectedSequence=function(e){a.treeNodesMap.clear(),a.props.actions.setSelectedSequence(e),a.props.actions.fetchSequenceJson(e),a.setState({treeExpand:!1,selectedView:"",nodeProperties:null}),a.closeValidationModal()},a.togglePropertiesPane=function(){var e=!a.state.propertiesExpand,t=e?a.state.treePanelWidth-30:a.state.treePanelWidth+30;a.setState({propertiesExpand:e,treePanelWidth:t})},a.toggleSequencesPane=function(){var e=!a.state.sequencesExpand,t=e?a.state.treePanelWidth-20:a.state.treePanelWidth+20;a.setState({sequencesExpand:e,treePanelWidth:t})},a.getPropertiesPaneTitle=function(){var e=a.state.nodeProperties;return O.a.size(e)?e["dtd-version"]?"Submission Properties":"m1-regional"===e.name?"M1 Regional Properties":O.a.get(e,"version","").includes("STF")?"STF Properties":e.fileID?"Document Properties":"Heading Properties":"Properties"},a.onViewTabChange=function(e){if(a.setState({selectedView:e}),a.props.actions.setSelectedSequence(null),"lifeCycle"===e){var t=a.props.selectedSubmission;a.props.actions.fetchLifeCycleJson(t)}a.closeValidationModal()},a.onModeTabChange=function(e){a.clearTreeNodesMap(),a.setState({selectedMode:e})},a.openApplicationsScreen=function(){a.props.actions.setSelectedSequence(null),a.props.history.goBack()},a.getTreeLabel=function(){var e=a.props,t=e.selectedSubmission,n=e.selectedSequence,s=e.sequenceJson,r=e.lifeCycleJson,c=n?s:r,i=O.a.get(c,"[fda-regional:fda-regional][admin][application-set][application][application-information][application-number][$t]","");if(a.state.selectedView){var o="current"===a.state.selectedView?"[Current View]":"[Life Cycle View]";return"Submission ".concat(i," ").concat(o)}return"Sequence ".concat(O.a.get(t,"name",""),"\\").concat(O.a.get(n,"name","")," (").concat(O.a.get(n,"submission_type",""),"-").concat(O.a.get(n,"submission_sub_type",""),")")},a.validate=function(){a.state.openValidationModal||(a.clearTreeNodesMap(),a.setState({openValidationModal:!0}))},a.clearTreeNodesMap=function(){a.treeNodesMap.clear()},a.closeValidationModal=function(){a.setState({openValidationModal:!1})},a.createKey=function(){var e=a.props,t=e.sequenceJson,n=e.lifeCycleJson,s=e.selectedSequence,r=a.state,c=r.selectedView,i=r.selectedMode,o="".concat(c,"_").concat(i,"_");return o+=s?O.a.get(t,"ectd:ectd.sequence",""):O.a.get(n,"ectd:ectd.sequence","")},a.onSequenceSortByChanged=function(e){a.setState({sequenceSortBy:e})},a.getMenu=function(){return s.a.createElement(De.a,null,s.a.createElement(De.a.Item,null,s.a.createElement("span",null,"Edit Profile")),s.a.createElement(De.a.Item,null,s.a.createElement("span",null,"Sign Out")))},a.getContent=function(){var e=a.props,t=e.selectedSequence,n=e.sequenceJson,s=e.lifeCycleJson;return t?n:s},a.onValidationResultItemClick=function(e){a.state.treeExpand?a.selectChildNode(e):a.toggle(function(){return setTimeout(function(){return a.selectChildNode(e)},2e3)})},a.selectChildNode=function(e){a.treeNodesMap.size||a.searchNode(a.treeRef.current,e);var t=null;if(t=e.ID?a.treeNodesMap.get(e.ID):a.treeNodesMap.get("".concat(e.name,"_").concat(e.title))){t.selectNode();var n=O.a.get(t,"nodeElementRef.current",null);n&&n.scrollIntoView({behavior:"smooth"})}},a.searchNode=function(e,t){if(e){var n=O.a.get(e,"state.properties.ID");if(n)a.treeNodesMap.set(n,e);else{var s=O.a.get(e,"state.properties.name",""),r=O.a.get(e,"state.properties.title","");a.treeNodesMap.set("".concat(s,"_").concat(r),e)}O.a.forEach(e.nodeRefs,function(e){a.searchNode(O.a.get(e,"current"),t)})}},a.state={treeExpand:!1,propertiesExpand:!0,sequencesExpand:!0,selectedNodeId:"",selectedView:"current",selectedMode:"standard",sequenceSortBy:"submission",nodeProperties:null,treePanelWidth:50,openValidationModal:!1,parentHeaderHeight:0},a.parentHeaderRef=s.a.createRef(),a.treeContainerRef=s.a.createRef(),a.treeRef=s.a.createRef(),a.treeNodesMap=new Map,a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.selectedSubmission;if(this.parentHeaderRef.current){var t=this.parentHeaderRef.current.clientHeight+4+28;this.setState({parentHeaderHeight:t})}e&&(this.props.actions.fetchSequences(e.id),this.props.actions.fetchLifeCycleJson(e))}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.sequences,n=e.selectedSequence,r=e.sequenceJson,c=e.lifeCycleJson,i=e.selectedSubmission,o=this.state,l=o.selectedView,m=o.selectedMode,u=o.sequenceSortBy;return i?s.a.createElement(s.a.Fragment,null,s.a.createElement(we,{loading:t}),s.a.createElement("div",{className:"submissionview"},s.a.createElement("div",{ref:this.parentHeaderRef},s.a.createElement("div",{className:"submissionview__profilebar"},s.a.createElement("div",{className:"submissionview__profilebar__section",onClick:this.openApplicationsScreen},s.a.createElement(Re.a,{type:"left"}),s.a.createElement("span",{className:"text"},"Dashboard")),s.a.createElement("div",{className:"submissionview__profilebar__title"},"omniVIEW"),s.a.createElement("div",{className:"submissionview__profilebar__section"},s.a.createElement(bt,null))),s.a.createElement("div",{className:"submissionview__header"},s.a.createElement("div",{className:"icon_text_border",style:{border:0,cursor:"not-allowed"}},s.a.createElement("img",{src:"/images/open-folder.svg",className:"global__icon",style:{opacity:.2}}),s.a.createElement("span",{className:"text",style:{opacity:.2}},"Open")),s.a.createElement("div",{className:"submissionview__header__mode"},s.a.createElement("div",{className:"submissionview__header__mode__tabs"},s.a.createElement(Me.a,{defaultActiveKey:m,onChange:this.onModeTabChange},s.a.createElement(Ot,{tab:"Standard",key:"standard"}),s.a.createElement(Ot,{tab:"QC",key:"qc"})))),s.a.createElement("div",{className:"submissionview__header__view",key:l},s.a.createElement("div",{className:"submissionview__header__view__tabs"},s.a.createElement(Me.a,{activeKey:l,onChange:this.onViewTabChange},s.a.createElement(Ot,{tab:"Current",key:"current"}),s.a.createElement(Ot,{tab:"Life Cycle",key:"lifeCycle"})))),s.a.createElement(wt,{onClick:this.toggle},s.a.createElement(Re.a,{type:this.state.treeExpand?"minus":"plus",className:"global__icon"}),s.a.createElement("span",{className:"icon-label"},this.state.treeExpand?"Collapse All":"Expand All")),s.a.createElement(wt,{style:{opacity:.2,cursor:"not-allowed"}},s.a.createElement(Re.a,{type:"search",className:"global__icon"}),s.a.createElement("span",{className:"icon-label"},"Find")),s.a.createElement("div",{className:"submissionview__header__validate icon_text_border ".concat(n&&"global__cursor-pointer"),style:n?{}:{border:0},onClick:n&&this.validate},s.a.createElement("img",{src:"/images/folder-validate.svg",className:"global__icon",style:{marginLeft:0,opacity:n?1:.2}}),s.a.createElement("span",{className:"text",style:n?{}:{opacity:.2}},"Validate Sequence")),s.a.createElement(wt,{style:{cursor:"not-allowed"}},s.a.createElement("img",{src:"/images/list.svg",className:"global__icon",style:{opacity:.2}}),s.a.createElement("span",{className:"icon-label",style:{opacity:.2}},"Show Amendment List"))),s.a.createElement("div",{className:"submissionview__siders"},s.a.createElement("div",{className:"submissionview__siders__sequence"},s.a.createElement("img",{className:"global__cursor-pointer",src:this.state.sequencesExpand?"/images/left-arrow-hide.svg":"/images/right-arrow-hide.svg",onClick:this.toggleSequencesPane}),s.a.createElement("span",{style:{marginLeft:"8px"}},"Sequences")),s.a.createElement("div",{className:"submissionview__siders__tree"}),s.a.createElement("div",{className:"submissionview__siders__properties ".concat(!this.state.propertiesExpand&&"align-right")},s.a.createElement("span",{style:{marginRight:"8px"}},this.getPropertiesPaneTitle()),s.a.createElement("img",{className:"global__cursor-pointer",src:this.state.propertiesExpand?"/images/right-arrow-hide.svg":"/images/left-arrow-hide.svg",onClick:this.togglePropertiesPane})))),s.a.createElement("div",{className:"submissionview__panels",style:{height:"calc(100% - ".concat(this.state.parentHeaderHeight,"px)")}},s.a.createElement(nt,{containerStyle:{width:"20%",height:"100%"},direction:"ltr",expand:this.state.sequencesExpand},s.a.createElement("div",{className:"panel panel-sequences"},s.a.createElement(tt,{submissionLabel:O.a.get(i,"name",""),selected:n,sequences:a,onSelectedSequence:this.onSelectedSequence,sortBy:u,onSortByChanged:this.onSequenceSortByChanged}))),s.a.createElement("div",{ref:this.treeContainerRef,className:"panels__tree",style:{width:"".concat(this.state.treePanelWidth,"%")}},s.a.createElement(He,{ref:this.treeRef,key:this.createKey(),label:this.getTreeLabel(),content:this.getContent(),expand:this.state.treeExpand,onNodeSelected:this.onNodeSelected,selectedNodeId:this.state.selectedNodeId,mode:m,view:l,defaultExpand:!0})),s.a.createElement(nt,{containerStyle:{width:"30%",height:"100%"},direction:"rtl",expand:this.state.propertiesExpand},s.a.createElement("div",{className:"panel panel-properties"},s.a.createElement(We,{properties:this.state.nodeProperties,m1Json:n?O.a.get(r,"[fda-regional:fda-regional]",""):O.a.get(c,"[fda-regional:fda-regional]",""),sequence:n||O.a.get(a,"[0]",""),submission:i})))),s.a.createElement(yt,{visible:this.state.openValidationModal,draggableAreaClass:".validationResults__header"},s.a.createElement(it,{sequence:n,label:O.a.get(i,"name",""),onClose:this.closeValidationModal,onItemSelected:this.onValidationResultItemClick}))),s.a.createElement(xe,{alignToBottom:!0})):s.a.createElement(G.a,{to:"/applications"})}}]),t}(n.Component),wt=Ue.a.div(Ct());var xt=Object(m.b)(function(e){return{loading:e.Api.loading,sequences:dt(e),selectedSequence:e.Submission.selectedSequence,lifeCycleJson:ut(e),sequenceJson:mt(e),selectedSubmission:e.Application.selectedSubmission}},function(e){return{actions:Object(d.b)(Object(h.a)({},ye),e)}})(Tt),jt=(a(164),a(70)),kt=a.n(jt),It=(a(60),a(39)),Pt=a.n(It),At=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(B.a)(this,Object(z.a)(t).call(this,e))).onInputCode=function(e){var t=a.props,n=t.verified;t.error&&a.props.actions.resetOtpError(),n&&a.props.actions.resetOtp();var s=e.target.value;/\s/.test(s)?a.props.actions.setOtpError("Invalid Code."):5===O.a.size(s)&&a.props.actions.verifyOtp({otp:s})},a.openDashboard=function(){a.props.history.push("/customers")},a.resendOtp=function(){var e={isEmail:"email"===a.props.match.params.mode};a.props.actions.sendOtp(e)},a.goBack=function(){a.props.actions.setOtpStatus(!1),a.props.actions.resetOtpError(),a.props.actions.resetOtp(),a.props.history.push("/auth")},a.getMode=function(){return"email"===a.props.match.params.mode?"Email Address":"Mobile Number"},a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this.props,t=e.verified,a=e.verifying,n=e.loading,r=e.error;return s.a.createElement(s.a.Fragment,null,s.a.createElement(we,{loading:n}),s.a.createElement(Y,{heading:"Enter the five digit code we sent to your registered ".concat(this.getMode())},s.a.createElement("div",{className:"authenticationCode"},s.a.createElement("span",{className:"global__field-label"},"Authentication Code"),s.a.createElement("span",{className:"authenticationCode-send",onClick:this.resendOtp},"Send another code")),s.a.createElement(kt.a.Item,{className:"authenticationCode-form"},s.a.createElement(Pt.a,{disabled:a,placeholder:"code",className:"authenticationCode-form-input ".concat(r&&"authenticationCode-errorbox"),onChange:this.onInputCode}),s.a.createElement("div",{className:"authenticationCode-form__icons"},a&&s.a.createElement(Oe.a,null),t&&s.a.createElement(Re.a,{type:"check",className:"authenticationCode-form__icons-tick"}))),r&&s.a.createElement("p",{className:"authenticationCode-fieldError"},r),t&&s.a.createElement("span",{className:"authenticationCode-verify"},"Code Verified"),s.a.createElement("div",{className:"common_authbuttons"},s.a.createElement(M.a,{className:"common_authbuttons-btn common_authbuttons-btn-cancel",onClick:this.goBack},"Cancel"),s.a.createElement(M.a,{disabled:!t,type:"primary",className:"common_authbuttons-btn common_authbuttons-btn-send authenticationCode-login-".concat(t?"enable":"disable"),onClick:this.openDashboard},"Login"))),s.a.createElement(xe,{alignToBottom:!0}))}}]),t}(n.Component);var Rt=Object(m.b)(function(e){return{loading:e.Api.loading,verified:e.Login.otp.verified,verifying:e.Login.otp.verifying,error:e.Login.otp.error}},function(e){return{actions:Object(d.b)(Object(h.a)({},ve),e)}})(At),Lt=(a(94),a(53)),Dt=a.n(Lt),Ft=kt.a.Item,Mt=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(B.a)(this,Object(z.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,s=t.password;n.value?s.value?a.props.actions.login({username:n.value,password:s.value}):a.setState({password:Object(h.a)({},s,{error:"Password is required"})}):a.setState({username:Object(h.a)({},n,{error:"Username is required"})})},a.onUsernameChange=function(e){a.props.error&&a.props.actions.resetLoginError();var t=e.target.value,n="";/\s/.test(t)&&(n="Inavlid Username"),a.setState({username:Object(h.a)({},a.state.username,{value:t,error:n})})},a.onPasswordChange=function(e){a.props.error&&a.props.actions.resetLoginError();var t=e.target.value;a.setState({password:Object(h.a)({},a.state.password,{value:t,error:""})})},a.state={username:{value:"",error:""},password:{value:"",error:""}},a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.error,n=this.state,r=n.username,c=n.password;return s.a.createElement(s.a.Fragment,null,s.a.createElement(we,{loading:t}),s.a.createElement("div",{className:"global__container"},s.a.createElement("div",{className:"login"},s.a.createElement("img",{src:"/images/omnicia-logo.svg",className:"login-logo"}),s.a.createElement("p",{className:"login-text"},"Login"),s.a.createElement("div",{className:"login__hr-line global__hr-line"}),a&&s.a.createElement("p",{className:"login-error"},a),s.a.createElement(kt.a,{onSubmit:this.handleSubmit},s.a.createElement("p",{className:"global__field-label"},"Username"),s.a.createElement(Ft,null,s.a.createElement(Pt.a,{placeholder:"Username",onChange:this.onUsernameChange,value:r.value,className:r.error&&"login-errorbox"})),r.error&&s.a.createElement("p",{className:"login-fieldError"},r.error),s.a.createElement("div",{className:"login__pwdsection"},s.a.createElement("span",{className:"global__field-label"},"Password"),s.a.createElement("a",{className:"login__pwdsection-forgot-pwd",tabIndex:"3",style:{cursor:"not-allowed",opacity:.5}},"Forgot your password?")),s.a.createElement(Ft,null,s.a.createElement(Pt.a,{type:"password",placeholder:"Password",value:c.value,onChange:this.onPasswordChange,className:c.error&&"login-errorbox"})),c.error&&s.a.createElement("p",{className:"login-fieldError"},c.error),s.a.createElement(Dt.a,{disabled:!0,className:"login-rememberpwd"},"Remember Password?"),s.a.createElement(Ft,null,s.a.createElement(M.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Sign In"))))),s.a.createElement(xe,{alignToBottom:!0}))}}]),t}(n.Component);var Ut=kt.a.create()(Mt),qt=Object(m.b)(function(e){return{loading:e.Api.loading,error:e.Login.login.error}},function(e){return{actions:Object(d.b)(Object(h.a)({},ve),e)}})(Ut),Bt=function(e){function t(){return Object(U.a)(this,t),Object(B.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this.props.login,t=e.login,a=e.otp;return t.loggedIn&&a.otpReceived&&a.verified?s.a.createElement(G.a,{to:"/customers"}):t.loggedIn?s.a.createElement(G.a,{to:"/auth"}):s.a.createElement(qt,null)}}]),t}(n.Component);var zt=Object(m.b)(function(e){return{login:e.Login}},null)(Bt),Vt=a(71),Ht=a.n(Vt),Jt=function(e){function t(){var e,a;Object(U.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(B.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r)))).getMenu=function(){return s.a.createElement(De.a,null,s.a.createElement(De.a.Item,{disabled:!0},s.a.createElement("span",{className:"submissioncard__heading-dropdown--item"},"Edit User Permissions")),s.a.createElement(De.a.Item,{disabled:!0},s.a.createElement("span",{className:"submissioncard__heading-dropdown--item red-text"},"Remove Application")))},a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this.props,t=e.submission,a=e.onSelect;return s.a.createElement("div",{className:"submissioncard"},s.a.createElement("div",{className:"submissioncard__heading"},s.a.createElement("span",{className:"submissioncard__heading-text global__cursor-pointer",onClick:a&&a(t)},O.a.get(t,"name")),s.a.createElement(Et.a,{overlay:this.getMenu(),trigger:["click"],overlayClassName:"submissioncard__heading-dropdown"},s.a.createElement("img",{src:"/images/overflow.svg",className:"submissioncard__heading-more"}))),s.a.createElement("div",{className:"submissioncard__content",onClick:a&&a(t)},s.a.createElement("div",{className:"submissioncard__content__item"},s.a.createElement("span",{className:"submissioncard__content__item-label"},"Added by:"),s.a.createElement("div",{style:{whiteSpace:"nowrap"}},s.a.createElement(_t.a,{size:"small",icon:"user"}),s.a.createElement("span",{className:"submissioncard__content__item-text",style:{marginLeft:"6px"}},O.a.get(t,"addedBy","Corabelle Durrad")))),s.a.createElement("div",{className:"submissioncard__content__item"},s.a.createElement("span",{className:"submissioncard__content__item-label"},"Sequences:"," "),s.a.createElement("span",{className:"submissioncard__content__item-text"},O.a.get(t,"sequence_count",""))),s.a.createElement("div",{className:"submissioncard__content__item"},s.a.createElement("span",{className:"submissioncard__content__item-label"},"Added On:"," "),s.a.createElement("span",{className:"submissioncard__content__item-text"},Ht()(O.a.get(t,"created_at","12/01/2018")).format("MM/DD/YYYY"))),s.a.createElement("div",{className:"submissioncard__content__item"},s.a.createElement("span",{className:"submissioncard__content__item-label"},"Last Updated:"," "),s.a.createElement("span",{className:"submissioncard__content__item-text"},Ht()(O.a.get(t,"updated_at","12/01/2018")).format("MM/DD/YYYY"))),s.a.createElement("div",{className:"global__hr-line",style:{marginTop:"20px"}}),s.a.createElement("div",{className:"submissioncard__content__item"},s.a.createElement("span",{className:"submissioncard__content__item-label"},"Users:"),s.a.createElement("div",null,s.a.createElement(_t.a,{size:"small",icon:"user"}),s.a.createElement(_t.a,{size:"small",icon:"user"}),s.a.createElement(_t.a,{size:"small",icon:"user"}),s.a.createElement(_t.a,{size:"small",icon:"user"})))))}}]),t}(n.Component),Gt=function(){return s.a.createElement("div",{className:"headerbar"},s.a.createElement("img",{src:"/images/omnicia-logo.svg",className:"headerbar-logo"}),s.a.createElement("div",null,s.a.createElement(bt,null)))};function Yt(){var e=Object(Pe.a)(["\n  font-size: 14px;\n  margin: 3px 0px 0px 4px;\n"]);return Yt=function(){return e},e}function Qt(){var e=Object(Pe.a)(["\n  width: ",";\n  justify-content: normal;\n  cursor: pointer;\n"]);return Qt=function(){return e},e}var Kt=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(B.a)(this,Object(z.a)(t).call(this,e))).order=function(e){return function(){if(e.name){var t={sortBy:e.key||""};a.selectedColumn===e?t.orderBy="ASC"===a.state.orderBy?"DESC":"ASC":(a.selectedColumn=e,t.orderBy="DESC"),a.setState(t,function(){return a.props.sortColumn&&a.props.sortColumn(a.state.sortBy,a.state.orderBy)})}}},a.getSortIcon=function(e){return a.state.sortBy===e.key?"ASC"===a.state.orderBy?s.a.createElement(Wt,{type:"caret-down"}):s.a.createElement(Wt,{type:"caret-up"}):s.a.createElement(Wt,{type:"caret-down"})},a.state={sortBy:"",orderBy:"ASC"},a.selectedColumn=null,a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this,t=this.props.columns;return s.a.createElement("div",{className:"tableHeader"},O.a.map(t,function(t){return s.a.createElement($t,{key:t.name,width:t.width,className:"tableHeader__item",onClick:e.order(t),style:t.style},t.checkbox&&s.a.createElement(Dt.a,null),t.name,t.sort&&e.getSortIcon(t))}))}}]),t}(n.Component),$t=Object(Ue.a)(Ye)(Qt(),function(e){return e.width}),Wt=Object(Ue.a)(Re.a)(Yt()),Xt=Kt,Zt=(a(438),a(190)),ea=a.n(Zt),ta=function(e){var t=e.label;return s.a.createElement("div",{className:"paginationButton"},t)},aa=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(B.a)(this,Object(z.a)(t).call(this,e))).getPaginationButtons=function(e,t,a){return"prev"===t?s.a.createElement(ta,{label:"Back"}):"next"===t?s.a.createElement(ta,{label:"Next"}):a},a.increase=function(){var e=Number(a.state.pageSize);e!==a.props.total&&((e+=a.defaultPageSize)>a.props.total&&(e=a.props.total),a.setPageSize(e))},a.decrease=function(){var e=Number(a.state.pageSize);(e-=e%a.defaultPageSize)>0&&e!==a.state.pageSize&&a.setPageSize(e)},a.handlePageSizeChange=function(e){var t=e.target.value;if(!isNaN(t))if(""===t)a.setState({pageSize:t}),a.timeOutId=setTimeout(function(){a.setState({pageSize:1}),a.onPageSizeChange()},a.debounceTimeOut);else{clearTimeout(a.timeOutId);var n=Number(t);if(n<=0||n>a.props.total)return;a.setState({pageSize:t}),a.onPageSizeChange()}},a.onPageSizeChange=function(){a.state.pageSize&&a.props.onPageSizeChange&&(a.props.onPageSizeChange(a.state.pageSize),a.onPageChange(1))},a.setPageSize=function(e){a.setState({pageSize:e}),a.props.onPageSizeChange&&a.props.onPageSizeChange(e)},a.onPageChange=function(e,t){a.props.onPageChange&&a.props.onPageChange(e)},a.defaultPageSize=5,a.debounceTimeOut=700,a.timeOutId="",a.state={pageSize:a.defaultPageSize},a.onPageSizeChange=O.a.debounce(a.onPageSizeChange,a.debounceTimeOut),a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pageSize,a=e.total;a<t&&(t=a),this.setState({pageSize:t})}},{key:"render",value:function(){var e=this.props,t=e.total,a=e.showTotal,n=e.current,r=e.containerStyle;return s.a.createElement("div",{className:"pagination",style:r},s.a.createElement(ea.a,{total:t,showTotal:a,pageSize:this.state.pageSize,current:n,itemRender:this.getPaginationButtons,onChange:this.onPageChange}),s.a.createElement(Ye,{className:"pagination__pagesize"},s.a.createElement("div",{className:"pagination__pagesize__label"},"Number of Items: "),s.a.createElement("div",{className:"pagination__pagesize__container"},s.a.createElement(Pt.a,{className:"pagination__pagesize__container-input",onChange:this.handlePageSizeChange,value:this.state.pageSize}),s.a.createElement("div",{className:"pagination__pagesize__container-arrows"},s.a.createElement(Re.a,{type:"caret-up",onClick:this.increase,className:"global__cursor-pointer"}),s.a.createElement(Re.a,{type:"caret-down",onClick:this.decrease,className:"global__cursor-pointer"})))))}}]),t}(n.Component),na=function(e){return O.a.get(e,"slug","").includes("o_")};function sa(){var e=Object(Pe.a)(["\n  width: ",";\n"]);return sa=function(){return e},e}var ra=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(B.a)(this,Object(z.a)(t).call(this,e))).getMenu=function(){return s.a.createElement(De.a,null,s.a.createElement(De.a.Item,{disabled:!0},s.a.createElement("span",null,"Edit Customer")),s.a.createElement(De.a.Item,{disabled:!0},s.a.createElement("span",null,"Add/Edit Users")),s.a.createElement(De.a.Item,{disabled:!0},s.a.createElement("span",null,"Deactivate Customer")))},a.fetchApplications=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"name",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ASC",n=a.state,s=n.viewBy,r=n.pageNo,c=n.itemsPerPage,i=n.searchText,o=a.props.selectedCustomer;"lists"===s?o&&a.props.actions.fetchApplicationsByList(o.id,r,c,e,t,i||""):o&&a.props.actions.fetchApplications(o.id,i||"")},a.changeView=function(e){return function(){a.setState({viewBy:e},function(){return a.fetchApplications()})}},a.onSubmissionSelected=function(e){return function(){a.props.actions.setSelectedSubmission(e),a.props.history.push("/submission")}},a.openCustomersScreen=function(){a.props.history.goBack()},a.onPageChange=function(e){a.setState({pageNo:e},function(){return a.fetchApplications()})},a.onPageSizeChange=function(e){a.setState({itemsPerPage:e},function(){return a.fetchApplications()})},a.sortColumn=function(e,t){a.fetchApplications(e,t)},a.handleSearch=function(e){var t=e.target.value;a.setState({searchText:t}),(""===t||O.a.size(t)>=3)&&a.searchApplications()},a.searchApplications=function(){a.fetchApplications()},a.clearSearch=function(){a.setState({searchText:""}),a.searchApplications()},a.state={viewBy:"cards",pageNo:1,itemsPerPage:5,searchText:""},a.searchApplications=O.a.debounce(a.searchApplications,700),a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){this.fetchApplications()}},{key:"render",value:function(){var e=this,t=this.state,a=t.viewBy,n=t.searchText,r=this.props,c=r.submissions,i=r.loading,o=r.selectedCustomer,l=r.submissionCount;return o?s.a.createElement(s.a.Fragment,null,s.a.createElement(we,{loading:i}),s.a.createElement(Gt,null),s.a.createElement("div",{className:"maindashboard"},s.a.createElement("div",{className:"maindashboard__header"},s.a.createElement("div",{className:"maindashboard__header__icon maindashboard__header__icon-cards ".concat("cards"===a&&"maindashboard__header__icon-selected"),onClick:this.changeView("cards")},s.a.createElement(Re.a,{type:"appstore",theme:"filled",className:"card-icon ".concat("cards"===a&&"card-icon-colored")})),s.a.createElement("div",{className:"maindashboard__header__icon maindashboard__header__icon-lists ".concat("lists"===a&&"maindashboard__header__icon-selected"),onClick:this.changeView("lists")},s.a.createElement("img",{src:"lists"===a?"/images/list-view-active.svg":"/images/list-view.svg"})),s.a.createElement("div",{className:"maindashboard__header__search"},s.a.createElement(Pt.a,{value:n,className:"maindashboard__header__search-box",prefix:s.a.createElement("img",{src:"/images/search.svg",style:{marginLeft:"5px"}}),suffix:n?s.a.createElement("img",{src:"/images/close.svg",style:{width:"20px",height:"20px",cursor:"pointer"},onClick:this.clearSearch}):"",placeholder:"Search Applications...",onChange:this.handleSearch}))),s.a.createElement("div",{className:"maindashboard__content"},na(this.props.role)&&s.a.createElement("div",null,s.a.createElement("span",{className:"maindashboard__content-breadcrum",onClick:this.openCustomersScreen},"Customers"),s.a.createElement("span",{style:{margin:"0px 5px"}},">"),s.a.createElement("span",{className:"maindashboard__content-breadcrum",style:{opacity:.4,cursor:"not-allowed"}},"Applications")),s.a.createElement("div",{className:"maindashboard__content__header"},s.a.createElement("div",null,s.a.createElement("span",{className:"maindashboard__content__header-customers"},O.a.get(o,"company_name","")),s.a.createElement("div",{className:"maindashboard__content__header__addEdit",style:{opacity:.2,cursor:"not-allowed"}},"Add/Edit Users")),s.a.createElement("span",{className:"maindashboard__content__header-addcustomer global__disabled-box"},s.a.createElement("img",{src:"/images/plus.svg"}),s.a.createElement("span",{className:"maindashboard__content__header-addcustomer--text"},"Add New Application"," "))),"lists"===a&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"maindashboard__content__list"},s.a.createElement(Xt,{columns:ia,sortColumn:this.sortColumn}),O.a.map(c,function(t){return s.a.createElement(Ye,{key:t.id,className:"maindashboard__content__list__item"},s.a.createElement(la,{width:oa(ca.CHECKBOX)},s.a.createElement(Dt.a,null)),s.a.createElement(la,{width:oa(ca.APPLICATION_NAME),className:"maindashboard__content__list__item-text-bold",onClick:e.onSubmissionSelected(t)},O.a.get(t,"name","")),s.a.createElement(la,{style:{textAlign:"center"},width:oa(ca.SEQUENCES),className:"maindashboard__content__list__item-text",onClick:e.onSubmissionSelected(t)},O.a.get(t,"sequence_count","")),s.a.createElement(la,{width:oa(ca.ADDEDBY),className:"maindashboard__content__list__item-text",onClick:e.onSubmissionSelected(t)},s.a.createElement(_t.a,{size:"small",icon:"user",style:{marginRight:"10px"}}),O.a.get(t,"created_by")||"Corabelle Durrad"),s.a.createElement(la,{width:oa(ca.ADDEDON),className:"maindashboard__content__list__item-text",onClick:e.onSubmissionSelected(t)},Ht()(O.a.get(t,"created_at","")).format("MM/DD/YYYY")),s.a.createElement(la,{width:oa(ca.LAST_UPDATED),className:"maindashboard__content__list__item-text",onClick:e.onSubmissionSelected(t)},Ht()(O.a.get(t,"updated_at","")).format("MM/DD/YYYY")),s.a.createElement(la,{width:oa(ca.USERS),className:"maindashboard__content__list__item__row maindashboard__content__list__item-text"},s.a.createElement("div",null,s.a.createElement(_t.a,{size:"small",icon:"user"}),s.a.createElement(_t.a,{size:"small",icon:"user"}),s.a.createElement(_t.a,{size:"small",icon:"user"}),s.a.createElement(_t.a,{size:"small",icon:"user"})),s.a.createElement(Et.a,{overlay:e.getMenu(),trigger:["click"],overlayClassName:"maindashboard__content__list__item-dropdown"},s.a.createElement("img",{src:"/images/overflow-blue.svg",style:{width:"20px",height:"20px"}}))))})),n&&!O.a.get(c,"length")&&s.a.createElement(Ye,{className:"maindashboard__content__nodata"},s.a.createElement(Re.a,{style:{fontSize:"20px"},type:"exclamation-circle",className:"maindashboard__content__nodata-icon"}),"No Applications found"),s.a.createElement(aa,{containerStyle:l>4?{marginTop:"5%"}:{marginTop:"20%"},total:l,showTotal:function(e,t){return"Showing - ".concat(t[0],"-").concat(t[1]," of ").concat(e," Applications")},pageSize:this.state.itemsPerPage,current:this.state.pageNo,onPageChange:this.onPageChange,onPageSizeChange:this.onPageSizeChange})),"cards"===a&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"maindashboard__content__cards"},O.a.map(c,function(t){return s.a.createElement(Jt,{key:t.id,submission:t,onSelect:e.onSubmissionSelected})})),n&&!O.a.get(c,"length")&&s.a.createElement(Ye,{className:"maindashboard__content__nodata"},s.a.createElement(Re.a,{style:{fontSize:"20px"},type:"exclamation-circle",className:"maindashboard__content__nodata-icon"}),"No Applications found"))),s.a.createElement(xe,null))):s.a.createElement(G.a,{to:"/customers"})}}]),t}(n.Component),ca={CHECKBOX:"",APPLICATION_NAME:"Application Name",SEQUENCES:"Sequences",ADDEDBY:"Added By",ADDEDON:"Added On",LAST_UPDATED:"Last Updated",USERS:"Users"},ia=[{name:ca.CHECKBOX,checkbox:!0,sort:!1,width:"5%"},{name:ca.APPLICATION_NAME,key:"name",checkbox:!1,sort:!0,width:"22%"},{name:ca.SEQUENCES,key:"sequence_count",checkbox:!1,sort:!0,width:"12%"},{name:ca.ADDEDBY,key:"created_by",checkbox:!1,sort:!0,width:"20%",style:{justifyContent:"center"}},{name:ca.ADDEDON,key:"created_at",checkbox:!1,sort:!0,width:"12%"},{name:ca.LAST_UPDATED,key:"updated_at",checkbox:!1,sort:!0,width:"15%"},{name:ca.USERS,checkbox:!1,width:"24%"}],oa=O.a.memoize(function(e){var t=O.a.find(ia,function(t){return t.name===e});return O.a.get(t,"width")}),la=Ue.a.div(sa(),function(e){return e.width});var ma=Object(m.b)(function(e){return{loading:e.Api.loading,role:e.Login.role,submissions:e.Application.submissions,selectedCustomer:e.Customer.selectedCustomer,submissionCount:e.Application.submissionCount}},function(e){return{actions:Object(d.b)(Object(h.a)({},Ne),e)}})(ra),ua=function(e){function t(){var e,a;Object(U.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(B.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(r)))).getMenu=function(){return s.a.createElement(De.a,null,s.a.createElement(De.a.Item,{disabled:!0},s.a.createElement("span",{className:"customercard__heading-dropdown--item"},"Edit Customer")),s.a.createElement(De.a.Item,{disabled:!0},s.a.createElement("span",{className:"customercard__heading-dropdown--item"},"Add/Edit Users")),s.a.createElement(De.a.Item,{disabled:!0},s.a.createElement("span",{className:"customercard__heading-dropdown--item red-text"},"Deactivate Customer")))},a.getName=function(e){var t=O.a.get(e,"company_name","");return t.length>32?"".concat(t.substring(0,33)," ..."):t},a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this.props,t=e.customer,a=e.onSelect;return s.a.createElement("div",{className:"customercard"},s.a.createElement("div",{className:"customercard__heading"},s.a.createElement("span",{className:"customercard__heading-text global__cursor-pointer",onClick:a&&a(t)},this.getName(t)),s.a.createElement(Et.a,{overlay:this.getMenu(),trigger:["click"],overlayClassName:"customercard__heading-dropdown"},s.a.createElement("img",{src:"/images/overflow.svg",className:"customercard__heading-more"}))),s.a.createElement("div",{className:"customercard__content",onClick:a&&a(t)},s.a.createElement("div",{className:"customercard__content__item"},s.a.createElement("img",{src:"/images/users.svg"}),s.a.createElement("span",{className:"customercard__content__item-text"},O.a.get(t,"number_of_users","0")," users")),s.a.createElement("div",{className:"global__hr-line"}),s.a.createElement("div",{className:"customercard__content__item"},s.a.createElement("img",{src:"/images/applications.svg"}),s.a.createElement("span",{className:"customercard__content__item-text"},O.a.get(t,"number_of_submissions","0")," applications")),s.a.createElement("div",{className:"global__hr-line"}),s.a.createElement("div",{className:"customercard__content__item"},s.a.createElement("img",{src:"/images/database.svg"}),s.a.createElement("span",{className:"customercard__content__item-text"},O.a.get(t,"max_space")||"0"," TB")),s.a.createElement("div",{className:"global__hr-line"}),s.a.createElement("div",{className:"customercard__content__item"},s.a.createElement("img",{src:"/images/key.svg"}),s.a.createElement("span",{className:"customercard__content__item-text",style:{fontSize:"14px"}},"Subscription Licences:"),s.a.createElement("span",{className:"customercard__content__item-subtext"},"12 in use | 3 unassigned"))))}}]),t}(n.Component);function da(){var e=Object(Pe.a)(["\n  width: ",";\n"]);return da=function(){return e},e}var pa=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(B.a)(this,Object(z.a)(t).call(this,e))).fetchCustomers=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"company_name",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ASC",n=a.state,s=n.viewBy,r=n.pageNo,c=n.itemsPerPage,i=n.searchText;"lists"===s?a.props.actions.fetchCustomersByList(r,c,e,t,i||""):a.props.actions.fetchCustomers(i||"")},a.changeView=function(e){return function(){a.setState({viewBy:e},function(){return a.fetchCustomers()})}},a.onCustomerSelected=function(e){return function(){a.props.actions.setSelectedCustomer(e),a.props.history.push("/applications")}},a.getMenu=function(){return s.a.createElement(De.a,null,s.a.createElement(De.a.Item,{disabled:!0},s.a.createElement("span",null,"Edit Customer")),s.a.createElement(De.a.Item,{disabled:!0},s.a.createElement("span",null,"Add/Edit Users")),s.a.createElement(De.a.Item,{disabled:!0},s.a.createElement("span",null,"Deactivate Customer")))},a.onPageChange=function(e){a.setState({pageNo:e},function(){return a.fetchCustomers()})},a.onPageSizeChange=function(e){a.setState({itemsPerPage:e},function(){return a.fetchCustomers()})},a.sortColumn=function(e,t){a.fetchCustomers(e,t)},a.handleSearch=function(e){var t=e.target.value;a.setState({searchText:t}),(""===t||O.a.size(t)>=3)&&a.searchCustomers()},a.searchCustomers=function(){a.fetchCustomers()},a.clearSearch=function(){a.setState({searchText:""}),a.searchCustomers()},a.state={viewBy:"cards",pageNo:1,itemsPerPage:5,searchText:""},a.searchCustomers=O.a.debounce(a.searchCustomers,700),a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){if(na(this.props.role))this.fetchCustomers();else{var e=this.props.user;this.onCustomerSelected({id:e.customer_id})()}}},{key:"render",value:function(){var e=this,t=this.state,a=t.viewBy,n=t.searchText,r=this.props,c=r.customers,i=r.loading,o=r.customerCount;return s.a.createElement(s.a.Fragment,null,s.a.createElement(we,{loading:i}),s.a.createElement(Gt,null),s.a.createElement("div",{className:"maindashboard"},s.a.createElement("div",{className:"maindashboard__header"},s.a.createElement("div",{className:"maindashboard__header__icon maindashboard__header__icon-cards ".concat("cards"===a&&"maindashboard__header__icon-selected"),onClick:this.changeView("cards")},s.a.createElement(Re.a,{type:"appstore",theme:"filled",className:"card-icon ".concat("cards"===a&&"card-icon-colored")})),s.a.createElement("div",{className:"maindashboard__header__icon maindashboard__header__icon-lists ".concat("lists"===a&&"maindashboard__header__icon-selected"),onClick:this.changeView("lists")},s.a.createElement("img",{src:"lists"===a?"/images/list-view-active.svg":"/images/list-view.svg"})),s.a.createElement("div",{className:"maindashboard__header__search"},s.a.createElement(Pt.a,{value:n,className:"maindashboard__header__search-box",prefix:s.a.createElement("img",{src:"/images/search.svg",style:{marginLeft:"5px"}}),suffix:n?s.a.createElement("img",{src:"/images/close.svg",style:{width:"20px",height:"20px",cursor:"pointer"},onClick:this.clearSearch}):"",placeholder:"Search Customers...",onChange:this.handleSearch}))),s.a.createElement("div",{className:"maindashboard__content"},s.a.createElement("div",{className:"maindashboard__content__header"},s.a.createElement("span",{className:"maindashboard__content__header-customers"},"Customers (",o,")"),s.a.createElement("span",{className:"maindashboard__content__header-addcustomer global__disabled-box"},s.a.createElement("img",{src:"/images/plus.svg"}),s.a.createElement("span",{className:"maindashboard__content__header-addcustomer--text"},"Add New Customer"," "))),"lists"===a&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"maindashboard__content__list"},s.a.createElement(Xt,{columns:ga,sortColumn:this.sortColumn}),O.a.map(c,function(t){return s.a.createElement(Ye,{key:t.id,className:"maindashboard__content__list__item"},s.a.createElement(ha,{width:_a(Ea.CHECKBOX)},s.a.createElement(Dt.a,null)),s.a.createElement(ha,{width:_a(Ea.CUSTOMER_NAME),className:"maindashboard__content__list__item-text-bold",onClick:e.onCustomerSelected(t)},O.a.get(t,"company_name","")),s.a.createElement(ha,{width:_a(Ea.USERS),className:"maindashboard__content__list__item-text",onClick:e.onCustomerSelected(t)},O.a.get(t,"number_of_users","")),s.a.createElement(ha,{width:_a(Ea.APPLICATIONS),className:"maindashboard__content__list__item-text",onClick:e.onCustomerSelected(t)},O.a.get(t,"number_of_submissions","")),s.a.createElement(ha,{width:_a(Ea.STORAGE),className:"maindashboard__content__list__item-text",onClick:e.onCustomerSelected(t)},O.a.get(t,"max_space")||"0"," TB"),s.a.createElement(ha,{width:_a(Ea.COMPANY_ADMIN),className:"maindashboard__content__list__item-text",onClick:e.onCustomerSelected(t)},O.a.get(t,"admin_name","")),s.a.createElement(ha,{width:_a(Ea.SUBSCRIPTION),className:"maindashboard__content__list__item__row maindashboard__content__list__item-text"},O.a.get(t,"subscription","11 in use  | 3 unassigned"),s.a.createElement(Et.a,{overlay:e.getMenu(),trigger:["click"],overlayClassName:"maindashboard__content__list__item-dropdown"},s.a.createElement("img",{src:"/images/overflow-blue.svg",style:{width:"20px",height:"20px"}}))))})),n&&!c.length&&s.a.createElement(Ye,{className:"maindashboard__content__nodata"},s.a.createElement(Re.a,{style:{fontSize:"20px"},type:"exclamation-circle",className:"maindashboard__content__nodata-icon"}),"No Customers found"),s.a.createElement(aa,{containerStyle:o>4?{marginTop:"5%"}:{marginTop:"20%"},total:o,showTotal:function(e,t){return"Showing - ".concat(t[0],"-").concat(t[1]," of ").concat(e," Customers")},pageSize:this.state.itemsPerPage,current:this.state.pageNo,onPageChange:this.onPageChange,onPageSizeChange:this.onPageSizeChange})),"cards"===a&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"maindashboard__content__cards"},O.a.map(c,function(t){return s.a.createElement(ua,{key:t.id,customer:t,onSelect:e.onCustomerSelected})})),n&&!c.length&&s.a.createElement(Ye,{className:"maindashboard__content__nodata"},s.a.createElement(Re.a,{style:{fontSize:"20px"},type:"exclamation-circle",className:"maindashboard__content__nodata-icon"}),"No Customers found"))),s.a.createElement(xe,null)))}}]),t}(n.Component),Ea={CHECKBOX:"",CUSTOMER_NAME:"Customer Name",USERS:"Users",APPLICATIONS:"Applications",STORAGE:"Storage",COMPANY_ADMIN:"Company Admin",SUBSCRIPTION:"Subscription Licences"},ga=[{name:Ea.CHECKBOX,checkbox:!0,sort:!1,width:"5%"},{name:Ea.CUSTOMER_NAME,key:"company_name",checkbox:!1,sort:!0,width:"25%"},{name:Ea.USERS,key:"number_of_users",checkbox:!1,sort:!0,width:"8%"},{name:Ea.APPLICATIONS,key:"number_of_submissions",checkbox:!1,sort:!0,width:"12%"},{name:Ea.STORAGE,key:"max_space",checkbox:!1,sort:!0,width:"10%"},{name:Ea.COMPANY_ADMIN,key:"admin_name",checkbox:!1,sort:!0,width:"20%"},{name:Ea.SUBSCRIPTION,checkbox:!1,width:"20%"}],_a=O.a.memoize(function(e){var t=O.a.find(ga,function(t){return t.name===e});return O.a.get(t,"width")}),ha=Ue.a.div(da(),function(e){return e.width});var fa=Object(m.b)(function(e){return{loading:e.Api.loading,role:e.Login.role,user:e.Login.user,customers:e.Customer.customers,customerCount:e.Customer.customerCount}},function(e){return{actions:Object(d.b)(Object(h.a)({},Se),e)}})(pa),ba=a(194),va=function(e){function t(){return Object(U.a)(this,t),Object(B.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this.props.login.loggedIn,t=this.props,a=t.component,n=Object(ba.a)(t,["component"]);return s.a.createElement(l.a,Object.assign({},n,{render:function(t){return e?s.a.createElement(a,t):s.a.createElement(G.a,{to:{pathname:"/",state:{from:t.location}}})}}))}}]),t}(n.Component);var Sa=Object(m.b)(function(e){return{login:e.Login.login,otp:e.Login.otp}},null)(va),Na=function(e){function t(e){var a;return Object(U.a)(this,t),(a=Object(B.a)(this,Object(z.a)(t).call(this,e))).state={loading:!1,url:"",type:"",largeFile:!1},a}return Object(V.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){var e=Object(Z.a)(X.a.mark(function e(){var t,a,n,s,r,c,i,o,l,m,u,d,p;return X.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match.params,a=!1,this.setState({loading:!0}),!t.fileId){e.next=10;break}return e.next=6,be.get(ne.GET_FILE_SIZE,{params:{fileId:t.fileId}});case 6:n=e.sent,s=n.data.data,r=Number(s),"doc"===t.type||"docx"===t.type||"ppt"===t.type?r>re&&(a=!0):"xml"===t.type&&r>se&&(a=!0);case 10:if(c=this.props.location.search,i=this.props.location.hash||"",o="".concat(ae,"/api/v1/getResourceFile/").concat(t.fileId),!c){e.next=26;break}return c=c.substring(1),l=c.split("&"),m=l[0].split("=")[1],u=(u=l[1].split("=")[1]).split("/").join("$$$@@@$$$"),o="".concat(ae).concat(ne.GET_NEW_PATH,"/").concat(m,"$$$***$$$").concat(u),e.next=22,be.get(o);case 22:d=e.sent,p=d.data.data,(m=O.a.get(p,"fileID"))&&(o="".concat(ae,"/api/v1/getResourceFile/").concat(m).concat(i));case 26:this.setState({url:o,type:t.type,loading:!1,largeFile:a});case 27:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.url,a=e.type,n=e.loading,r=e.largeFile,c="".concat(window.location.origin,"/web/viewer.html?file=").concat(t);return n?s.a.createElement(we,{loading:n}):r?(window.location=t,null):"pdf"===a?s.a.createElement("iframe",{width:"100%",height:"100%",src:c}):(c="doc"===a||"docx"===a||"ppt"===a?"https://view.officeapps.live.com/op/embed.aspx?src=".concat(t):"xml"===a?"https://docs.google.com/viewer?url=".concat(t,"&embedded=true"):t,a&&(window.location=c),null)}}]),t}(n.Component),ya=function(){return s.a.createElement(m.a,{store:D.store},s.a.createElement(u.a,{loading:s.a.createElement(we,{loading:!0}),persistor:D.persistor},s.a.createElement(i.a,null,s.a.createElement(o.a,null,s.a.createElement(l.a,{exact:!0,path:"/",component:zt}),s.a.createElement(Sa,{exact:!0,path:"/viewer/:type/:fileId?",component:Na}),s.a.createElement(Sa,{path:"/auth",component:Ie}),s.a.createElement(Sa,{path:"/verify/:mode",component:Rt}),s.a.createElement(Sa,{path:"/customers",component:fa}),s.a.createElement(Sa,{path:"/applications",component:ma}),s.a.createElement(Sa,{path:"/submission",component:xt})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(function(){return s.a.createElement(ya,null)},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[195,2,1]]]);